\newcommand{\$}{\begin{verbatim}$\end{verbatim}}
\newenvironment{hs}[1]{.. code:: haskell\begin{indent!}{10}
}{\end{indent!}}


\begin{hs}
  hello world
\end{hs}

\$
